{"ast":null,"code":"import _slicedToArray from\"/Users/northcoders14/Desktop/projects/nc-news-frontend-ci-cd/app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import*as api from\"../api\";import{Link}from\"@reach/router\";import Search from\"../components/Search\";export default function Articles(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allArticles=_useState2[0],setAllArticles=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),displayArticles=_useState6[0],setDisplayArticles=_useState6[1];useEffect(function(){api.getArticles().then(function(articles){setAllArticles(articles);setDisplayArticles(articles);}).catch(function(err){setError({msg:\"Oh no, something went wrong\"});});},[]);var filterArticles=function filterArticles(value){var articlesToDisplay=allArticles.filter(function(article){return article.title.toLowerCase().includes(value.toLowerCase());});setDisplayArticles(articlesToDisplay);};if(error)return React.createElement(\"h1\",null,error.msg);return React.createElement(\"div\",null,React.createElement(\"h1\",null,\"Articles\"),React.createElement(Search,{filterArticles:filterArticles}),React.createElement(\"ul\",null,displayArticles.map(function(article){return React.createElement(\"li\",{key:article.article_id},React.createElement(Link,{to:\"/articles/\"+article.article_id},article.title));})));}","map":{"version":3,"sources":["/Users/northcoders14/Desktop/projects/nc-news-frontend-ci-cd/app/src/pages/Articles.jsx"],"names":["React","useState","useEffect","api","Link","Search","Articles","allArticles","setAllArticles","error","setError","displayArticles","setDisplayArticles","getArticles","then","articles","catch","err","msg","filterArticles","value","articlesToDisplay","filter","article","title","toLowerCase","includes","map","article_id"],"mappings":"mJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,QAArB,CACA,OAASC,IAAT,KAAqB,eAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CAEA,cAAe,SAASC,CAAAA,QAAT,EAAoB,eACKL,QAAQ,CAAC,EAAD,CADb,wCAC1BM,WAD0B,eACbC,cADa,8BAEPP,QAAQ,CAAC,IAAD,CAFD,yCAE1BQ,KAF0B,eAEnBC,QAFmB,8BAGaT,QAAQ,CAAC,EAAD,CAHrB,yCAG1BU,eAH0B,eAGTC,kBAHS,eAKjCV,SAAS,CAAC,UAAM,CACdC,GAAG,CACAU,WADH,GAEGC,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChBP,cAAc,CAACO,QAAD,CAAd,CACAH,kBAAkB,CAACG,QAAD,CAAlB,CACD,CALH,EAMGC,KANH,CAMS,SAAAC,GAAG,CAAI,CACZP,QAAQ,CAAC,CAAEQ,GAAG,CAAE,6BAAP,CAAD,CAAR,CACD,CARH,EASD,CAVQ,CAUN,EAVM,CAAT,CAYA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAAAC,KAAK,CAAI,CAC9B,GAAMC,CAAAA,iBAAiB,CAAGd,WAAW,CAACe,MAAZ,CAAmB,SAAAC,OAAO,CAAI,CACtD,MAAOA,CAAAA,OAAO,CAACC,KAAR,CAAcC,WAAd,GAA4BC,QAA5B,CAAqCN,KAAK,CAACK,WAAN,EAArC,CAAP,CACD,CAFyB,CAA1B,CAGAb,kBAAkB,CAACS,iBAAD,CAAlB,CACD,CALD,CAOA,GAAIZ,KAAJ,CAAW,MAAO,+BAAKA,KAAK,CAACS,GAAX,CAAP,CAEX,MACE,gCACE,yCADF,CAEE,oBAAC,MAAD,EAAQ,cAAc,CAAEC,cAAxB,EAFF,CAGE,8BACGR,eAAe,CAACgB,GAAhB,CAAoB,SAAAJ,OAAO,CAAI,CAC9B,MACE,2BAAI,GAAG,CAAEA,OAAO,CAACK,UAAjB,EACE,oBAAC,IAAD,EAAM,EAAE,CAAE,aAAeL,OAAO,CAACK,UAAjC,EACGL,OAAO,CAACC,KADX,CADF,CADF,CAOD,CARA,CADH,CAHF,CADF,CAiBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport * as api from \"../api\";\nimport { Link } from \"@reach/router\";\nimport Search from \"../components/Search\";\n\nexport default function Articles() {\n  const [allArticles, setAllArticles] = useState([]);\n  const [error, setError] = useState(null);\n  const [displayArticles, setDisplayArticles] = useState([]);\n\n  useEffect(() => {\n    api\n      .getArticles()\n      .then(articles => {\n        setAllArticles(articles);\n        setDisplayArticles(articles);\n      })\n      .catch(err => {\n        setError({ msg: \"Oh no, something went wrong\" });\n      });\n  }, []);\n\n  const filterArticles = value => {\n    const articlesToDisplay = allArticles.filter(article => {\n      return article.title.toLowerCase().includes(value.toLowerCase());\n    });\n    setDisplayArticles(articlesToDisplay);\n  };\n\n  if (error) return <h1>{error.msg}</h1>;\n\n  return (\n    <div>\n      <h1>Articles</h1>\n      <Search filterArticles={filterArticles} />\n      <ul>\n        {displayArticles.map(article => {\n          return (\n            <li key={article.article_id}>\n              <Link to={\"/articles/\" + article.article_id}>\n                {article.title}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}